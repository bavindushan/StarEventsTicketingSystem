@model IEnumerable<StarEventsTicketingSystem.Models.Event>

@{
    ViewBag.Title = "Customer Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="d-flex">
    <!-- Sidebar -->
    <div class="bg-dark text-white p-3" style="width: 250px; min-height: 100vh;">
        <h4 class="mb-4">Customer Menu</h4>
        <ul class="nav flex-column">
            <li class="nav-item mb-2">
                <a class="nav-link text-white" href="@Url.Action("Events", "CustomerDashboard")">🎫 Browse Events</a>
            </li>
            <li class="nav-item mb-2">
                <a class="nav-link text-white" href="@Url.Action("BookingHistory", "CustomerDashboard")">📜 Booking History</a>
            </li>
            <li class="nav-item mb-2">
                <a class="nav-link text-white" href="@Url.Action("Profile", "CustomerDashboard")">👤 Profile</a>
            </li>
            <li class="nav-item">
                <form method="post" action="@Url.Action("Logout", "Account")">
                    <button type="submit" class="btn btn-danger w-100">🚪 Logout</button>
                </form>
            </li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="container mt-5 flex-grow-1">
        <h2 class="text-center mb-4">Upcoming Events</h2>

        @if (!Model.Any())
        {
            <p class="text-center text-muted">No upcoming events available at the moment.</p>
        }
        else
        {
            <div class="row">
                @foreach (var ev in Model)
                {
                    <div class="col-md-4 mb-4">
                        <div class="card shadow-lg rounded-4 h-100">
                            <div class="card-body text-center">
                                <h4 class="card-title">@ev.EventName</h4>
                                <p class="card-text">@ev.Description</p>
                                <p class="text-muted">📅 @ev.Date.ToString("dd MMM yyyy")</p>
                                <a href="@Url.Action("EventDetails", "CustomerDashboard", new { id = ev.EventID })" class="btn btn-primary">
                                    View Details
                                </a>
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
    </div>
</div>
